# 超领异常报告 (人工修改/系统补录)

> 报告生成时间: 2026-01-30
> 检查范围: 30个MTO号

---

## 统计摘要

| 指标 | 数值 |
|------|------|
| 检查MTO数量 | 30 |
| 发现超领MTO | 15 |
| 超领记录总数 | 48 |
| **超领总数量** | **23,989** |

---

## 异常类型分析

### 类型1: 申请量=0 的严重异常 (人工补录)

以下记录的申请领料量为0，但实际领料量>0，说明是**未经申请直接发料**：

| MTO | 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|-----|---------|---------|---------|--------|--------|--------|
| DK25B294S | LL26010331 | 03.06.10.001 | 写字板彩盒 | **0** | 1,600 | 1,600 |
| DS25C315S | LL26010879 | 03.06.02.001 | 泳镜彩盒 | **0** | 1,200 | 1,200 |

**结论**: 这2条记录是典型的人工补录或系统直接发料，完全绕过了领料申请流程。

---

### 类型2: 大额超领 (超领量>1000)

| MTO | 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|-----|---------|---------|---------|--------|--------|--------|
| DS25C318S | LL26010750 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,450 | 7,880 | **6,430** |
| DS25C318S | LL26010689 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,450 | 6,656 | **5,206** |
| DS25C309S | LL26010245 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,700 | 4,340 | **2,640** |
| DS25C314S | LL26010460 | 03.24.888.081 | 泳镜中性静电膜 | 208 | 1,692 | **1,484** |
| DS25C319S | LL26010637 | 03.24.02.001 | 泳镜客户专用静电膜 | 730 | 1,798 | **1,068** |
| DS25C314S | LL26010637 | 03.24.888.019 | 泳镜中性静电膜 | 256 | 1,288 | **1,032** |

**结论**: 这些记录实际领料量远超申请量，可能是：
1. 批量调整库存
2. 跨订单借料
3. 系统修正

---

## 按MTO汇总

### 【MTO: DS25C318S】超领总量: 11,636
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|---------|---------|---------|--------|--------|--------|
| LL26010689 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,450 | 6,656 | 5,206 |
| LL26010750 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,450 | 7,880 | 6,430 |

### 【MTO: DS25C314S】超领总量: 3,708
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|---------|---------|---------|--------|--------|--------|
| LL26010460 | 03.24.888.081 | 泳镜中性静电膜 | 208 | 1,692 | 1,484 |
| LL26010637 | 03.24.888.035 | 泳镜中性静电膜 | 208 | 604 | 396 |
| LL26010637 | 03.24.888.019 | 泳镜中性静电膜 | 256 | 1,288 | 1,032 |
| LL26010643 | 03.24.888.075 | 泳镜中性静电膜 | 508 | 1,020 | 512 |
| LL26010689 | 03.24.888.01.023 | 泳镜中性内侧静电膜 | 308 | 592 | 284 |

### 【MTO: DS25C309S】超领总量: 2,736
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|---------|---------|---------|--------|--------|--------|
| LL26010245 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,700 | 4,340 | 2,640 |
| LL26010666 | 03.23.003 | 产品贴纸 | 500-2,600 | 510-2,626 | 10-26 |

### 【MTO: DS25C319S】超领总量: 1,927
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 |
|---------|---------|---------|--------|--------|--------|
| LL26010637 | 03.24.02.001 | 泳镜客户专用静电膜 | 730-980 | 1,000-1,798 | 20-1,068 |
| LL26010750 | 03.24.02.001 | 泳镜客户专用静电膜 | 1,140 | 1,860 | 720 |
| LL26010877 | 03.13.001 | 平口袋 | 180 | 196 | 16 |

### 【MTO: DK25B294S】超领总量: 1,600
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 | 备注 |
|---------|---------|---------|--------|--------|--------|------|
| LL26010331 | 03.06.10.001 | 写字板彩盒 | 0 | 1,600 | 1,600 | **申请=0!** |

### 【MTO: DS25C315S】超领总量: 1,200
| 领料单号 | 物料编码 | 物料名称 | 申请量 | 实际量 | 超领量 | 备注 |
|---------|---------|---------|--------|--------|--------|------|
| LL26010879 | 03.06.02.001 | 泳镜彩盒 | 0 | 1,200 | 1,200 | **申请=0!** |

---

## 超领检测逻辑

### 计算公式

```
未领量 (unpicked_qty) = 申请领料量 (FAppQty) - 实际领料量 (FActualQty)

当 未领量 < 0 时 → 判定为超领
```

### 数据来源

| 字段 | 中文名 | 表单 | 说明 |
|------|--------|------|------|
| FAppQty | 申请领料量 | PRD_PickMtrl | 领料申请单上填写的数量 |
| FActualQty | 实际领料量 | PRD_PickMtrl | 仓库实际发出的数量 |
| FMaterialId.FNumber | 物料编码 | PRD_PickMtrl | 物料唯一标识 |
| FMaterialId.FName | 物料名称 | PRD_PickMtrl | 物料描述 |
| FBillNo | 领料单号 | PRD_PickMtrl | 单据编号 |
| FMTONO | 计划跟踪号 | PRD_PickMtrl | MTO关联号 |

### 代码位置

**文件**: `src/query/mto_handler.py`

```python
# Line 654 - 自制件
unpicked_qty=pick_app_total - pick_actual_total,  # 允许负值以检测超领

# Line 698 - 外购件
unpicked_qty=required_qty - picked_qty,  # 允许负值以检测超领
```

---

## 建议

1. **申请量=0的记录** 应重点核查，确认是否为合规操作
2. **大额超领** 需确认是否有审批流程
3. 考虑在系统中增加超领预警机制
